# frozen_string_literal: true

require "test_helper"

module Asciidoctor
  module Html
    # Tests the html generated by the converter is correct
    class TestConverter < Minitest::Test
      DOC = ::Asciidoctor.load_file "#{__dir__}/example.adoc"
      CONVERTER = ::Asciidoctor::Converter.create "html5"

      def test_paragraph
        html = [
          %(<p>We begin with a simple paragraph.</p>\n),

          %(<div id="par-with-title" class="paragraph">
<h5 class="block-title"><span class="title-content">Paragraph Title</span></h5>
<p>This is a paragraph with title.</p>
</div> <!-- #par-with-title.paragraph -->\n)
        ]

        (DOC.find_by context: :paragraph).each_with_index do |node, idx|
          assert_equal CONVERTER.convert_paragraph(node), html[idx]
        end
      end
    end
  end
end
